\documentclass[a4paper,10pt]{article}
\usepackage[top=4cm, bottom=3cm, left=3cm, right=3cm]{geometry}
\frenchspacing
\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage[T1]{fontenc}
\usepackage{url}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{listings}
\usepackage{multicol}
\usepackage[small,compact]{titlesec}
\usepackage{marginnote}
\usepackage{multirow}
\usepackage{float}
\usepackage{enumitem}
\usepackage{tikz}
\usepackage{fancyhdr}
\usepackage{hyperref}

\usepackage[scaled]{beramono}
\lstset{basicstyle=\footnotesize\ttfamily}

\titleformat{\section}[hang]
{\normalfont\large\bfseries}{\thesection}{12pt}{}[{\titlerule[2pt]}]

\titleformat{\subsection}[hang]
{\normalfont\normalsize\bfseries}{\thesubsection}{12pt}{}[{\titlerule[0.8pt]}]

\begin{document}

\pagestyle{fancy}
\lhead{Aalto University}
\chead{}
\rhead{\thepage}
\lfoot{}
\cfoot{}
\rfoot{}

%\twocolumn

\tableofcontents
\newpage
\section{Number theory}
\subsection{Greatest common divisor}
\lstinputlisting[language=C++]{../src/gcd.cpp}
\subsection{Sieve of Eratosthenes}
\lstinputlisting[language=C++]{../src/eratosthenes.cpp}
\subsection{Modular inverse}
\lstinputlisting[language=C++]{../src/modinv.hh}
\subsection{Modular exponent}
\lstinputlisting[language=C++]{../src/mod_exp.hh}
\subsection{Linear diophantine equations}
\lstinputlisting[language=C++]{../src/diophantine.cpp}
\newpage
\section{String algorithms}
\subsection{Z-algorithm}
\lstinputlisting[language=C++]{../src/z.hpp}
\subsection{KMP}
\lstinputlisting[language=C++]{../src/kmp.cpp}
\subsection{Suffix array}
\lstinputlisting[language=C++]{../src/suffix_array.hh}
\newpage
\section{Graph algorithms}
\subsection{Depth- and breadth first search}
\lstinputlisting[language=C++]{../src/dfs_bfs.hh}
\subsection{Shortest path (Dijkstra)}
\lstinputlisting[language=C++]{../src/dijkstra.cpp}
\subsection{Topological sort}
\subsection{Minimum spanning tree}
\subsection{Max-flow / Min-cut}
\lstinputlisting[language=C++]{../src/maxflow.hh}
\lstinputlisting[language=C++]{../src/maxflow_test.cpp}
\newpage
\section{Geometry}
\subsection{Convex hull}
\lstinputlisting[language=C++]{../src/convex.hh}
\subsection{Line intersections}
\lstinputlisting[language=C++]{../src/intersect.hh}
\newpage
\section{Data structures}
\subsection{Segment tree (general)}
\lstinputlisting[language=C++]{../src/segTree_jarno.cpp}
\subsection{Segment tree (monotone, sum)}
\lstinputlisting[language=C++]{../src/segmenttree_sum.cpp}
\subsection{Union-find}
\lstinputlisting[language=C++]{../src/union_find.hh}
\newpage
\section{Misc}
\subsection{Iterating integer partitions}
\subsection{Iterating subsets}
\lstinputlisting[language=C++]{../src/subsets.hh}
\subsection{Iterating permutations}
\lstinputlisting[language=C++]{../src/next_permutation.cpp}
\subsection{Binary search}

\section{Stanford}
\input{../src/stanford}
\end{document}

